modelId: XThreeEq

info:
  descr: Extended three-equation macro model

curves:
  IS: 
    #eq: 'y  == G + C + I'
    eq: 'y == G + C0 + c*(y-T) + I0 - aI * r'
    xy: [y,r]
    color: red
    #insert: [G,C,I]
    #subst: {y: y_, r: r_}
  PC:
    eq: 'pi == Epi +alpha*(y-y_eq)'
    xy: [y,pi]
    color: blue
  next_PC:
    eq: 'pi == next_Epi +alpha*(y-y_eq)'
    xy: [y,pi]
    color: cyan
  MR:
    eq: 'y  == y_eq -alpha*beta*(pi-piT)'
    xy: [y,pi]
    color: green

panes:
  IS_:
    pos: [1,1]
    xy: [y,r]
    curves: [IS]
    xmarkers: [y_eq,y_,y_mr]
    ymarkers: [r_]

  PC_MR:
    pos: [1,2]
    xy: [y,pi]
    curves: [PC,MR,next_PC]
    xmarkers: [y_eq,y_,y_mr]
    ymarkers: [pi_,Epi,piT,next_Epi,pi_mr]

laginitMode: steady_state

vars:
  I:
    descr: Investments. Depend on interest rate
    formula: I0 - aI * r_
  C:
    descr: Keynesian consumption function
    formula: C0 + c*(y_-T)
  T:
    descr: Tax income
    formula: tau*y_
  D:
    descr: Goverment debt
    formula: lag_D + G - T
    laginit: D0
  y_: 
    xcurve: IS
    y: 'lag_r_'
    laginit: y_eq
  # adaptive expectations
  Epi: 'lag_pi_'
  next_Epi: 'pi_'
  pi_:
    ycurve: PC
    x: y_
    laginit: piT
  pi_mr:
    ycut: [next_PC,MR]
    laginit: piT
  y_mr:
    xcut: [next_PC,MR]
    laginit: y_eq
  rcut:
    ycurve: IS
    x: y_mr
  r_:
    formula: pmax(rcut,-Epi)
  i:
    descr: nominal interest rate
    formula: 'r_ + Epi' 
latex:
  Epi: 'E\pi'
  pi_: '\pi'
  y_mr: 'y_{mr}'



# Params will be computed ex-ante for all T
# they may be modified by shocks
# Formulas either return a single value or a
# vector of length T
params:
  A: 'Constant of the IS Curve'
  a: 'Absolute slope of the IS Curve'
  piT: 'Inflation target of the central bank'
  alpha: >
    Slope of Phillips Curve: 
    measures how strongly output deviations from
    y_eq affect inflation rate.
  beta: Central banks weight on inflation target (weight on output gap is normalized to 1)
  y_eq: >
    Equilibrium output at which the inflation rate remains constant
  eps:
    descr: random output schocks. Not yet used
    formula: 'rnorm(T,0, sigma.eps)'
  sigma.eps:
    formula: 0

scenarios:
  base:
    T: 20
    params:
#      A: 15
      D0: 0
      I0: 5
      aI: 0.5
      c: 0.3
      C0: 2
      tau: 0.5
      G: 6
      piT: 2
      alpha: 1
      beta: 1
      y_eq: 10
    axis:
      y: [0,20]
      r: [0,10]
      pi: [-5,10]
    shocks:
      G_dec:
        descr: Government spending decreases
        effects:
          G: 'G*0.85'
        start: 6
        duration: 100

      